<div ng-controller="ItemListCtrl">
  <!--- alert -->
  <div class="alert alert-danger alert-dismissable emptyTip" style="top:100px; position:relative;" ng-show="empty">
     <button type="button" class="close" data-dismiss="alert"
        aria-hidden="true">
        &times;
     </button>
     Error: No items found! Try a new keyword!
  </div>
  <!-- alert -->

  <div id="form">
    <form role="form" ng-submit="addItem()">
      <div class="col-md-12">
        <div class="error alert-danger"></div>
        <div class="input-group input-group-lg">
          <input type="text" class="form-control" placeholder="Search" ng-model="inputModel">
          <span class="input-group-btn">
          <button type="submit" class="btn btn-primary search">Start Saving!</button>
          </span>
          <div class="clearfix"></div>
        </div>
      </div>
    </form>
  </div> <!-- /#form -->

  <div class="filter-tools">

    <form name="groupByForm">
      <label for="groupByForm">Group Products By</label> <br/>
      <input type="radio" ng-model="grouping" value="store"> Store <br/>
      <input type="radio" ng-model="grouping" value="upc"> Universal Product Code <br/>
      <input type="radio" ng-model="grouping" value="NULL"> Do Not Group <br/>
    </form>

    <form name="orderByForm">
      <label for="orderByForm">Order Products in Group By</label> <br/>
      <input type="radio" ng-model="ordering" ng-value="price"> Price <br/>
      <input type="radio" ng-model="ordering" ng-value="name"> Product Name <br/>
      <input type="radio" ng-model="ordering" ng-value="store"> Store <br/>
    </form>

    <input type="text" ng-model="search">

  </div>

  <div class="resultTable" ng-show="items">
    <div class="cols">
      <div>Item</div>
      <div>Price</div>
      <div>Store</div>
    </div>
    <div ng-repeat="(key, value) in items | groupBy: grouping | filterGroups: search | arrayify | orderBy:arrayifyKey">
        <div ng-repeat="item in value | orderBy: ordering">
          <a ng-href="{{ item.productUrl }}" target="_blank" class="cols">
            <div>{{item.name}}</div>
            <div>{{item.price | currency:"$"}}</div>
            <div>{{item.store}}</div>
            <div><button class="btn btn-success cartBtn" ng-click="getItemId(item.name, item.price, item.store)">Add To Summary</button></div>
          </a>
        </div>
      </div>
  </div><!-- /.resultTable -->

  <!---Summary Table-->
    <div class="summaryTable" ng-show="cart">
      <table class="table table-hover cartTable">
        <p>Summary</p>
        <thead>
          <tr>
            <th>Item</th>
            <th>Price</th>
            <th>Store</th>
            <th></th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="item in cart">
            <td>{{item.name | limitTo: 50}}...</a></td>
            <td>{{item.price | currency:"$"}}</td>
            <td>{{item.store}}</td>
            <td><button class="btn btn-danger" id="remove" ng-click="clearItem($index)" ng-show="cart">Remove</button></td>
            <td><button class="btn btn-default" ng-click="moveToCompare(item.name, item.price, item.store)" ng-show="cart">Compare</button></td>
          </tr>
          <td><a class="btn btn-success" href="/#/map">Show Map</a>
          <td>Total: {{ total | currency:"$"}}</td>
        </tbody>
      </table>
    </div>
  <!---Summary Table-->
  </br></br></br></br>

    <!---Summary Table-->
    <div class="">
      <table class="table table-hover compare" ng-show="compare.length">
        <thead>
          <tr>
            <th>Item</th>
            <th>Price</th>
            <th>Store</th>
            <th></th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="item in compare">
            <td>{{item.name | limitTo: 50}}...</a></td>
            <td>{{item.price | currency:"$"}}</td>
            <td>{{item.store}}</td>
          </tr>
          <td><button class="btn btn-danger" id="remove" ng-click="clear()" ng-show="compare">Clear</button></td>
          <td id="savings">Savings: {{ diff | currency:"$" }}</td>
        </tbody>
      </table>
    </div>
  <!---Summary Table-->
</div>
